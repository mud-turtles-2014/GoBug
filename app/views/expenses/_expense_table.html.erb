<div class="container-fluid">
  <% @expenses.each do |ex| %>

  <% end %>
    <div class="row">
    <% @expenses.each do |expense| %>
      <div class="col-md-4">
        <div class="ribbon">
          <h4><%= expense.title%>
            <% if @show_itinerary %>
              <a href="/trips/<%= expense.expensable.id %>">Full itinerary --></a>
            <% end %> </h4>
          <ul class="filters-list">
            <li><%= price(expense.usd_cost) %></li>
          </ul>
          <div class= "awesome"><%= expense.location.name %></div></br>
          <p><%= truncate(expense.description, :length => 300) %></p>
        <% if @current_user %>
          <div class="wishlist-button">
              <% if @current_user.has_expense_in_wishlist(expense) %>
                <%= button_to "Remove from wishlist", {:controller => :expenses, :action => 'destroy', :id => @current_user.wishlist_id_of(expense) }, method: 'delete', remote: true %>
              <% elsif @wishlists.length == 1 %>
                <%= button_to "Add to Wishlist", add_to_wishlist_path(wishlist_id: @wishlists.first, expense_id: expense.id), method: "post", remote: true %>
              <% elsif @wishlists.length > 1 %>
                <%= select_tag :wishlist_id, options_for_select(@wishlist_options, :include_blank => true) %>
                <%= hidden_field_tag :expense_id, expense.id, class: "expense_id" %>
              <% else %>
                <%= button_to "Create Wishlist", new_wishlist_path, method: "get" %>
              <% end %>
            </div>
        <% end %>
      </div>
<!--         <%= expense.title%><br>
        <div class= "awesome"><%= expense.location.name %></div></br>
        <%= price(expense.usd_cost) %> | <%= expense.category.name %><br>
        <%= truncate(expense.description, :length => 300) %> -->
      </div>
    <% end %>
  </div>
</div>
